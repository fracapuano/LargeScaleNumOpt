%pattern emerges with at least n = 8

clear 
clc
%f = rand(5,1);

syms x1 x2 x3 x4 x5 x6 x7 x8 x9 x_10

f75 = 0.5*( ...
    (x1-1)^2 + ...
    (10*(2-1)*(x2-x1)^2)^2 + ...
    (10*(3-1)*(x3-x2)^2)^2 + ...
    (10*(4-1)*(x4-x3)^2)^2 + ...
    (10*(5-1)*(x5-x4)^2)^2 + ...
    (10*(6-1)*(x6-x5)^2)^2 + ...
    (10*(7-1)*(x7-x6)^2)^2 + ...
    (10*(8-1)*(x8-x7)^2)^2 + ...
    (10*(9-1)*(x9-x8)^2)^2 + ...
    (10*(10-1)*(x_10-x9)^2)^2 ...
    );

g75 = gradient(f75); 
h75 = hessian(f75);  

% g75_handle = @(x)[
%                x(1) + 200*(x(1) - x(2))^3 - 1;
%       800*(x(2) - x(3))^3 - 200*(x(1) - x(2))^3;
%      1800*(x(3) - x(4))^3 - 800*(x(2) - x(3))^3;
%     3200*(x(4) - x(5))^3 - 1800*(x(3) - x(4))^3;
%                  -3200*(x(4) - x(5))^3];


% syms x1 x2 x3 x4 x5
% 
% f75 = 0.5*((x1-1)^2 + (10*(2-1)*(x2-x1)^2)^2 + (10*(3-1)*(x3-x2)^2)^2 + (10*(4-1)*(x4-x3)^2)^2 + ...
%                   (10*(5-1)*(x5-x4)^2)^2);
% g75 = gradient(f75); 
% h75 = hessian(f75);  
% 
% h75_handle = @(x) [...
%     600*(x(1) - x(2))^2 + 1,                   -600*(x(1) - x(2))^2,                        0,                                   0,                 0;
%    -600*(x(1) - x(2))^2, 600*(x(1) - x(2))^2 + 2400*(x(2) - x(3))^2,               -2400*(x(2) - x(3))^2,                        0,                 0;
%           0,                  -2400*(x(2) - x(3))^2, 2400*(x(2) - x(3))^2 + 5400*(x(3) - x(4))^2,                   -5400*(x(3) - x(4))^2,          0;
%                  0,                                  0,                   -5400*(x(3) - x(4))^2, 5400*(x(3) - x(4))^2 + 9600*(x(4) - x(5))^2, -9600*(x(4) - x(5))^2;
%                   0,                                  0,                                   0,                   -9600*(x(4) - x(5))^2,  9600*(x(4) - x(5))^2
% ];
